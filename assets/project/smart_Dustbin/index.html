<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Garbage Level Monitoring System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
   
    <header class="logos">
        <img src="../public/nagarpalika_logo.png" alt="Nagarpalika Logo">
        <img src="../public/college_logo.png" alt="College Logo" class="college-logo">
    </header>   

    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
    </nav>
    <div class="container">
        <h1>Garbarge Level Detector</h1>
        <div class="garbage-level" id="garbageLevel">Loading...</div>
    <div>
    </div>
    <br><br>
    <h3>Here is the Arduino code of the system</h3>
<pre>
    <code>
        #define BLYNK_TEMPLATE_ID "TMPL6zmXfKaHK"
#define BLYNK_TEMPLATE_NAME "My Project"
#define BLYNK_AUTH_TOKEN "-Suu9pGlY3Kw9uNTWdM726riQP9Ww_jn"
#define BLYNK_PRINT Serial

#include <WiFi.h>               // Include the WiFi library for ESP32
#include <BlynkSimpleEsp32.h>   // Include the Blynk library for ESP32
#include <ESP32Servo.h>         // Include the ESP32Servo library for motor control

#define TRIG_PIN_1 4            // GPIO4 on ESP32 for the first ultrasonic sensor
#define ECHO_PIN_1 2            // GPIO2 on ESP32 for the first ultrasonic sensor
#define TRIG_PIN_2 12           // GPIO12 on ESP32 for the second ultrasonic sensor
#define ECHO_PIN_2 13           // GPIO13 on ESP32 for the second ultrasonic sensor
#define MOTOR_PIN 18            // GPIO18 on ESP32 for the motor control

char auth[] = "-Suu9pGlY3Kw9uNTWdM726riQP9Ww_jn"; // Blynk Auth Token
char ssid[] = "Room No 10";       // Enter your WiFi name
char pass[] = "ABC67/36";   // Enter your WiFi password

long duration_1, duration_2;
int distance_1, distance_2;

Servo myMotor;  // Create a Servo object to control a motor
BlynkTimer timer;

// Function to read distance from an ultrasonic sensor
int readDistance(int trigPin, int echoPin) {
  digitalWrite(trigPin, LOW);
  delayMicroseconds(2);
  digitalWrite(trigPin, HIGH);
  delayMicroseconds(10);
  digitalWrite(trigPin, LOW);
  long duration = pulseIn(echoPin, HIGH);
  int distance = duration * 0.034 / 2;
  return distance;
}

// Function to read distances and control the motor
void readSensorsAndControlMotor() {
  // Read distance from the first ultrasonic sensor
  distance_1 = readDistance(TRIG_PIN_1, ECHO_PIN_1);
  Serial.print("Distance 1: ");
  Serial.println(distance_1);
  Blynk.virtualWrite(V0, distance_1); // Send the first sensor's data to Blynk
  
  // Read distance from the second ultrasonic sensor
  distance_2 = readDistance(TRIG_PIN_2, ECHO_PIN_2);
  Serial.print("Distance 2: ");
  Serial.println(distance_2);
  Blynk.virtualWrite(V1, distance_2); // Send the second sensor's data to Blynk
  
  // Control the motor based on the distance from the first sensor
  if (distance_1 < 40) {
    myMotor.write(90); // Rotate motor to 90 degrees if distance is less than 40cm
  } else {
    myMotor.write(0);  // Rotate motor to 0 degrees if distance is 40cm or more
  }
}

void setup() {
  Serial.begin(9600);  // Initialize serial communication

  // Set up the pins for the first ultrasonic sensor
  pinMode(TRIG_PIN_1, OUTPUT);
  pinMode(ECHO_PIN_1, INPUT);

  // Set up the pins for the second ultrasonic sensor
  pinMode(TRIG_PIN_2, OUTPUT);
  pinMode(ECHO_PIN_2, INPUT);

  // Set up the motor
  myMotor.attach(MOTOR_PIN); // Attach the motor to the specified GPIO pin
  myMotor.write(0);          // Initialize the motor at 0 degrees

  // Connect to WiFi and Blynk
  Blynk.begin(auth, ssid, pass);

  // Set up a timer to read sensors and control the motor every 100ms
  timer.setInterval(100L, readSensorsAndControlMotor);
}

void loop() {
  Blynk.run();  // Run Blynk
  timer.run();  // Run the timer
}

    </code>
</pre>

<h3>Here is a picture of our team</h3>
<img src="../public/datadreamers-team.jpeg" class="team-photo"/>
    <footer>
        <p>&copy; 2024 Garbage Level Monitoring System</p>
    </footer>
    <script src="script/script.js"></script>
</body>
</html>
